<!DOCTYPE html>
<html>
    <head>
        <title>Wanderus</title>
        <link rel='stylesheet' href='/stylesheets/search.css' />
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    </head>
    <body ng-app="searchFunction">
        <div class="container">
            <div ng-include src="'/header/header.ejs'"></div>
            <ui-view></ui-view>
            <script type="text/ng-template" id="/searchPage.html">
                <%- include searchPage.html %>
            </script>
            <script type="text/ng-template" id="/searchResult.html">
                <%- include searchResult.html %>
            </script>
        </div>
        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <!--<script src="/javascripts/geolocation.js"></script>-->

        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script
        <script src="/javascripts/ui-bootstrap-custom-1.1.2.min.js"></script>
        <script src="//code.angularjs.org/1.3.0-rc.2/angular-resource.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
        <script src="/javascripts/search.js"></script>
        <script src="/javascripts/dirPagination.js"></script>
        <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>

        <script>
    		var map = L.map('map');

    		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw', {
    			maxZoom: 18,
    			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
    				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    				'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    			id: 'mapbox.streets'
    		}).addTo(map);

    		function onLocationFound(e) {
    			var radius = e.accuracy / 2;

    			L.marker(e.latlng).addTo(map)
    				.bindPopup("You are within " + radius + " meters from this point").openPopup();

    			L.circle(e.latlng, radius).addTo(map);
    		}

    		function onLocationError(e) {
    			alert(e.message);
    		}

    		map.on('locationfound', onLocationFound);
    		map.on('locationerror', onLocationError);

    		map.locate({setView: true, maxZoom: 16});
	    </script>



    </body>
</html>
